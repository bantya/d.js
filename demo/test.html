<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Test</title>
		<link rel="stylesheet" href="//code.jquery.com/qunit/qunit-1.17.1.css">
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture">
			<ul class="list">
				<li>One</li>
				<li>Two</li>
				<li>Three</li>
			</ul>
		</div>

		<script src="//code.jquery.com/qunit/qunit-1.17.1.js"></script>
		<script type="text/javascript" src="../d.js"></script>

		<script type="text/javascript">
			QUnit.test(".get", function (assert) {
				assert.strictEqual(d.get('.list > li'), document.querySelector('.list > li'), "Passed!");
				assert.strictEqual(d.get('ol.list > li'), null, "Passed!");
				assert.strictEqual(d('.list').get('li')[0], document.querySelector('.list li'), "Passed!");
			});

			QUnit.test(".getAll", function (assert) {
				assert.strictEqual(d.getAll('.list > li').length, 3, "Passed!");
				assert.strictEqual(d.getAll('ol.list > li').length, 0, "Passed!");
				assert.strictEqual(d('.list > li').length, 3, "Passed!");
			});

			QUnit.test(".is", function (assert) {
				var element = d.get('.list > li');

				assert.strictEqual(d.is(element, 'li'), true, "Passed!");
				assert.strictEqual(d.is(element, 'p'), false, "Passed!");
			});

			QUnit.test(".remove", function (assert) {
				assert.strictEqual(d.getAll('.list > li').length, 3, "Passed!");

				d.remove(d.get('.list > li'));

				assert.strictEqual(d.getAll('.list > li').length, 2, "Passed!");
			});

			QUnit.test(".css", function (assert) {
				var element = d.get('.list > li');

				assert.strictEqual(d.css(element, 'margin-left'), '0px', "Passed!");

				d.css(element, 'margin-left', '10px');
				d.css(element, {
					fontFamily: 'Arial'
				});

				assert.strictEqual(d.css(element, 'margin-left'), '10px', "Passed!");
				assert.strictEqual(d.css(element, 'font-family'), 'Arial', "Passed!");
			});

			QUnit.test(".parse", function (assert) {
				var element = d.parse('<ol><li></li></ol>');

				assert.strictEqual(d.is(element, 'ol'), true, "Passed!");
				assert.strictEqual(element.children.length, 1, "Passed!");

				element = d('<ol><li></li></ol>');
				assert.strictEqual(d.is(element[0], 'ol'), true, "Passed!");
				assert.strictEqual(element[0].children.length, 1, "Passed!");
			});

			QUnit.test("events", function (assert) {
				var element = d('<div></div>');
				var clicked = false;
				var fn = function () {
					clicked = true;
				};

				element.on('click', fn);

				element.trigger('click');
				assert.strictEqual(clicked, true, "Passed!");
				clicked = false;

				element.off('click', fn);
				element.trigger('click');
				assert.strictEqual(clicked, false, "Passed!");

				element.on('customClick', fn);

				element.trigger('customClick');
				assert.strictEqual(clicked, true, "Passed!");
				clicked = false;

				element.off('customClick', fn);
				element.trigger('customClick');
				assert.strictEqual(clicked, false, "Passed!");
			});
		</script>
	</body>
</html>